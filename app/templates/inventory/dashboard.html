{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1 style="font-weight: 800; color: var(--secondary-color); margin-bottom: 30px;">üìä Painel de Patrim√¥nio</h1>

    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 30px;">
        <div class="card" style="border-left: 5px solid #3498db;">
            <small style="color: gray;">Total Investido (Custo)</small>
            <h2 style="color: #2c3e50;">R$ {{ "%.2f"|format(total_cost) }}</h2>
        </div>

        <div class="card" style="border-left: 5px solid var(--primary-color);">
            <small style="color: gray;">Valor Estimado de Venda</small>
            <h2 style="color: var(--primary-color);">R$ {{ "%.2f"|format(total_sale) }}</h2>
        </div>

        <div class="card" style="border-left: 5px solid #f1c40f;">
            <small style="color: gray;">Lucro Estimado Bruto</small>
            <h2 style="color: #f39c12;">R$ {{ "%.2f"|format(potential_profit) }}</h2>
        </div>
    </div>

    <div class="card">
        <h3 style="color: #e74c3c; margin-bottom: 15px;">‚ö†Ô∏è Alerta de Estoque Baixo</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>Produto</th>
                    <th style="text-align: center;">Qtd Atual</th>
                    <th>A√ß√£o</th>
                </tr>
            </thead>
            <tbody>
                {% for p in low_stock %}
                <tr>
                    <td>{{ p.name }}</td>
                    <td style="text-align: center; color: #e74c3c; font-weight: bold;">{{ p.stock }}</td>
                    <td><a href="{{ url_for('inventory.edit_product', product_id=p.id) }}">Ajustar</a></td>
                </tr>
                {% else %}
                <tr><td colspan="3" style="text-align: center; color: gray;">Todos os itens com estoque ok!</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}